{"version":3,"file":"react-youtube-lite.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","// Dependencies\nimport * as React from 'react';\n\n// Styles\nimport './styles/styles.css';\n\nexport interface Props {\n  /**\n   * If `https://static.doubleclick.net` is enabled or not\n   *\n   * @default true\n   */\n  adNetwork?: boolean;\n  /**\n   * The URL of the video in any format like youtube.com or youtu.be\n   * we take care of get the ID of the video\n   */\n  url: string;\n  /**\n   * If the video URL contains a playlist or not\n   *\n   * @default false\n   */\n  playlist?: boolean;\n  /**\n   * The different quality to show the poster\n   * see: https://developers.google.com/youtube/v3/docs/thumbnails\n   * for more information\n   *\n   * @default \"hqdefault\"\n   */\n  poster?:\n    | 'maxresdefault'\n    | '0'\n    | '1'\n    | '2'\n    | '3'\n    | 'default'\n    | 'hqdefault'\n    | 'mqdefault'\n    | 'sddefault';\n  /**\n   * The `data-title` to insert in the `iframe`\n   *\n   * @default \"React YouTube Lite\"\n   */\n  title?: string;\n  /**\n   * If you use GDPR and don't want YouTube cookies enable this option\n   *\n   * @default false\n   */\n  noCookie?: boolean;\n  /**\n   * The class used to hide the elements when the iframe is already renderer\n   *\n   * @default \"lty-playbt\"\n   */\n  activatedClass?: string;\n  /**\n   * Default classes to put iframe responsive\n   *\n   * @default \"embed-reponsive-item\"\n   */\n  iframeClass?: string;\n  /**\n   * Class for youtube play button\n   *\n   * @default \"lty-playbtn\"\n   */\n  playerClass?: string;\n  /**\n   * Default classes to put container responsive\n   *\n   * @default \"ryt-lite embed-responsive\"\n   */\n  wrapperClass?: string;\n  /**\n   * Implements a `padding-bottom` to generate the size of the iframe\n   *\n   * - `aspect-ratio-none`: 0\n   * - `aspect-ratio-square`: 100%\n   * - `aspect-ratio-16/9`: 56.25%\n   * - `aspect-ratio-4/3`: 75%\n   * - `aspect-ratio-21/9`: 42.86%\n   *\n   * @default \"aspect-ratio-16/9\"\n   */\n  aspectRatio?:\n    | 'aspect-ratio-none'\n    | 'aspect-ratio-square'\n    | 'aspect-ratio-16/9'\n    | 'aspect-ratio-4/3'\n    | 'aspect-ratio-21/9';\n}\n\n/**\n * Returns the ID of the youtube video url provided\n *\n * @param url - The URL of the video (we take care of )\n */\nexport function getYoutubeId(url: string): string {\n  const regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n  const match = url.match(regExp);\n\n  return match && match[7].length == 11 ? match[7] : '';\n}\n\n/**\n * Render faster YouTube videos to get a high score page render\n */\nexport const ReactYouTubeLite = ({\n  adNetwork = true,\n  url = '',\n  playlist = false,\n  poster = 'hqdefault',\n  title = 'React YouTube Lite',\n  noCookie = false,\n  activatedClass = 'lyt-activated',\n  iframeClass = 'embed-responsive-item',\n  playerClass = 'lty-playbtn',\n  wrapperClass = 'ryt-lite embed-responsive',\n  aspectRatio = 'aspect-ratio-16/9',\n}: Props): JSX.Element => {\n  const [preconnected, setPreconnected] = React.useState(false);\n  const [iframe, setIframe] = React.useState(false);\n  const videoId = encodeURIComponent(getYoutubeId(url));\n  const videoTitle = title;\n  const posterUrl = `https://i.ytimg.com/vi/${videoId}/${poster}.jpg`;\n  const ytUrl = noCookie\n    ? 'https://www.youtube-nocookie.com'\n    : 'https://www.youtube.com';\n  const iframeSrc = !playlist\n    ? `${ytUrl}/embed/${videoId}?autoplay=1`\n    : `${ytUrl}/embed/videoseries?list=${videoId}`;\n\n  /**\n   * Preload google `link` in header\n   */\n  const warmConnections = () => {\n    if (preconnected) return;\n\n    setPreconnected(true);\n  };\n\n  /**\n   * Set iframe as active if already active, return.\n   */\n  const addIframe = () => {\n    if (iframe) return;\n\n    setIframe(true);\n  };\n\n  return (\n    <>\n      <link rel=\"preload\" href={posterUrl} as=\"image\" />\n      <>\n        {preconnected && (\n          <>\n            <link rel=\"preconnect\" href={ytUrl} />\n            <link rel=\"preconnect\" href=\"https://www.google.com\" />\n            {adNetwork && (\n              <>\n                <link rel=\"preconnect\" href=\"https://static.doubleclick.net\" />\n                <link\n                  rel=\"preconnect\"\n                  href=\"https://googleads.g.doubleclick.net\"\n                />\n              </>\n            )}\n          </>\n        )}\n      </>\n      <div\n        onPointerOver={warmConnections}\n        onClick={addIframe}\n        className={`${wrapperClass} ${aspectRatio} ${\n          iframe ? activatedClass : ''\n        }`}\n        data-title={videoTitle}\n        style={{ backgroundImage: `url(${posterUrl})` }}\n      >\n        <div className={playerClass}></div>\n        {iframe && (\n          <iframe\n            className={iframeClass}\n            title={videoTitle}\n            width=\"560\"\n            height=\"315\"\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            src={iframeSrc}\n          ></iframe>\n        )}\n      </div>\n    </>\n  );\n};\n"],"names":["getYoutubeId","url","regExp","match","length","ReactYouTubeLite","adNetwork","playlist","poster","title","noCookie","activatedClass","iframeClass","playerClass","wrapperClass","aspectRatio","React","preconnected","setPreconnected","iframe","setIframe","videoId","encodeURIComponent","videoTitle","posterUrl","ytUrl","iframeSrc","warmConnections","addIframe","rel","href","as","onPointerOver","onClick","className","style","backgroundImage","width","height","frameBorder","allow","allowFullScreen","src"],"mappings":"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"}